---
name: analyze-attribution
description: 追溯认知偏差的触发因素，建立归因链条
---

# 归因分析

对用户的认知偏差进行根因分析，识别触发因素，提供针对性干预建议。

## 执行步骤

### Step 1: 统计认知模式

读取所有对话的 `llm_metadata.cognitive_patterns` 字段，统计各模式出现次数：

```text
scope_creep: X 次
perfectionism: Y 次
anchoring: Z 次
decision_fatigue: N 次
sunk_cost: M 次
confirmation_bias: K 次
```

### Step 2: 对高频模式建立归因链

对每种出现 ≥5 次的认知模式，分析触发因素：

#### scope_creep（范围蔓延）归因

| 触发因素 | 检测方法 | 干预建议 |
|----------|----------|----------|
| 任务定义模糊 | 首条消息字数 <50 | 任务开始前写清目标和边界 |
| 中途新需求 | Turn 5+ 出现 "另外"/"还有"/"顺便" | 新需求开新对话 |
| AI 主动扩展 | AI 响应含 "你可能还需要"/"建议也" | 明确拒绝扩展或开新对话 |
| 完美主义驱动 | outcome=resolved 后继续优化 | 定义"够用"标准 |

#### perfectionism（完美主义）归因

| 触发因素 | 检测方法 | 干预建议 |
|----------|----------|----------|
| 无验收标准 | 首条消息无明确完成条件 | 先定义 Done 标准 |
| 过度优化 | refactoring 类型对话占比 >30% | 设置时间盒 |
| 边际收益递减 | 连续多轮小改动 | 问"这个改动值多少时间？" |

#### anchoring（锚定效应）归因

| 触发因素 | 检测方法 | 干预建议 |
|----------|----------|----------|
| 首方案锁定 | 方案失败后仍坚持同一方向 | 失败后主动要求替代方案 |
| 忽略替代方案 | AI 提供多选项但用户总选第一个 | 强制自己考虑第二选项 |
| 沉没成本 | 已投入 >10 轮仍不放弃失败方案 | 设置止损点 |

#### decision_fatigue（决策疲劳）归因

| 触发因素 | 检测方法 | 干预建议 |
|----------|----------|----------|
| 长时间工作 | 连续 3+ 小时的对话 | 每 2 小时休息 |
| 连续决策 | 单 session 内 5+ 个对话 | 批量决策后休息 |
| 晚间低效 | 22:00 后的对话质量下降 | 复杂任务留给早晨 |

### Step 3: 计算置信度

每个归因需要证据支持：

- 置信度 = 符合该触发因素的案例数 / 该模式总数
- 只展示置信度 ≥30% 的归因
- 列出 2-3 个具体 session_id 作为证据

### Step 4: 输出归因报告

## 归因分析报告

### 认知模式统计

| 模式 | 次数 | 占比 | 趋势 |
|------|------|------|------|
| scope_creep | - | - | ↑/↓/→ |
| perfectionism | - | - | - |
| anchoring | - | - | - |
| decision_fatigue | - | - | - |
| sunk_cost | - | - | - |

### 归因链条

#### scope_creep (出现 X 次)

```text
├── 触发因素 1: 任务定义模糊 (占比 42%, 置信度 85%)
│   └── 证据: session_xxx, session_yyy
│   └── 特征: 首条消息平均 38 字
├── 触发因素 2: 中途新需求 (占比 35%, 置信度 72%)
│   └── 证据: session_zzz
│   └── 特征: Turn 5+ 出现扩展词
└── 触发因素 3: AI 主动扩展 (占比 23%, 置信度 60%)
    └── 证据: session_aaa
```

**针对性干预**:

1. **任务开始前**: 用模板写清目标、范围、完成标准
2. **对话过程中**: 新需求出现时，问自己"这是必须现在做的吗？"
3. **习惯养成**: 每周回顾 scope_creep 案例，强化边界意识

#### [其他高频模式...]

### 本周重点干预

基于归因分析，建议优先解决：

**[最高频模式的最高置信度触发因素]**

- 为什么选这个: 出现次数最多 + 触发因素明确
- 具体行动: [可操作的一句话建议]
- 验证方法: 下周该模式出现次数减少 X%
